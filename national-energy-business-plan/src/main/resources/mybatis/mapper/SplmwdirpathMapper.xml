<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nari.zyl.mapper.SplmwdirpathMapper" >

    <select id="getSplmwdirpathTopDataByCondition" resultType="com.nari.zyl.model.Splmwdirpath">
        SELECT categoriesid categoriesId,
               loadstation_id loadstationId,
               destination_id destinationId,
               trptdirec_id trptdirecId,
               etrptdirec_id etrptdirecId
        FROM  s_plm_w_dirpath
        WHERE srailwayrange_id = #{srailwayrangeId} and erailwayrange_id = #{erailwayrangeId} and categoriesid = '01'
        order by priority desc limit 1;
    </select>

    <update id="updateSplmwdirpathTopDataByCondition" parameterType="java.util.HashMap">
        update s_plm_w_dirpath
        set trptdirec_id = #{trptdirecId}
        where categoriesid = '01' and srailwayrange_id =#{srailwayrangeId} and erailwayrange_id = #{erailwayrangeId}
    </update>

</mapper>